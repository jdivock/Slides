<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>React and Real-time databases</title>

		<meta name="description" content="React and Real-time
		                                  databases: Like peas and carrots">
		<meta name="author" content="Jason Divock">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="/css/reveal.css">
		<link rel="stylesheet" href="/css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="/lib/css/zenburn.css">

        <style>
            dt, dd { float: left }
            dt { clear:both }
        </style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '/css/print/pdf.css' : '/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>React & Realtime DBs</h1>
					<h3>Featuring Firebase & Parse</h3>
					<p>
						<small>Created by <a href="http://jasondivock.com">Jason Divock</a> / <a href="http://twitter.com/jdivock">@jdivock</a></small>
					</p>
				</section>

				<section>
					<h2>Quick catchup</h2>
				</section>

                <!-- REACT -->
				<section>
					<h2>React</h2>
                    <img style="max-height: 250px" src="img/react-logo.png" />
                    <p>Awesome sauce</p>
                    <p>Facilitates building of isolated independant componets that can only mutate data they own</p>
				</section>

                <section>
                    <h2>React (con't)</h2>
                    <p>Parlor tricks aside, you start with an application state and push slices of that state down
                        to child components</p>
                    <p>Changes are propogated upwards until they reach the "owner" of that content</p>
                </section>

                <section>
                    <img src="img/BasicReactFlow.png"/>
                </section>

                <section>
                    <h2>Or more realistically</h2>
                    <img src="img/ReactMore.png"/>
                </section>

                <section>
                    <h2>So if everything is immutable, how do I update anything?</h2>
                </section>

                <section>
                    <img src="/ReactRealtimeDB/img/reactPassFunc.png"/>
                </section>

                <section>
                    <h2>This doesn't scale so well</h2>
                    <img src="/ReactRealtimeDB/img/reactPassFuncFunc.png"/>
                </section>

                <section>
                    <h2>There are more than a couple solutions here</h2>
                    <p class="fragment">Flux</p>
                    <p class="fragment">Cursors</p>
                    <p class="fragment">Roll your own singletons</p>
                    <p class="fragment">Wire it up to a Realtime DB!</p>
                </section>

                <!-- Realtime DB -->
                <section>
                    <h2>What do I mean by Realtime DB?</h2>
                    <p class="fragment">DBaaS</p>
                    <p class="fragment">Stores and syncs data in real time</p>
                    <p class="fragment">Provides a JS SDK for easy storage and fetching</p>
                    <p class="fragment">Fetches happen automagically via listeners, not explicit GETs</p>
                    <p class="fragment">One write kicks off reads to everyone listening</p>
                </section>

                <section>
                    <h2>Are the gears turning yet?</h2>
                    <h4>You can do some pretty cool shit for "free"</h4>
                </section>

                <!-- FIREBASE -->
                <section>
                    <img style="background: white; max-height:250px" src="img/firebase-logo.png" />
                    <p>Early provider of this</p>
                    <p>Recently bought by the GOOG</p>
                </section>

                <section>
                    <h2>Set up and listen</h2>
                    <pre>
                        <code>
this.firebase = new Firebase('https://amber-inferno-2020.firebaseio.com');

this.firebase.child('movies').on('value', this._setMovies.bind(this));
                        </code>
                    </pre>
                </section>

                <section>
                    <h2>Writing is easy peasy as well</h2>

                    <pre>
                        <code>
this.firebase.child('movies/currentMovies/' + movieKey).update({
    showDate: movieDate
});
                        </code>
                    </pre>
                </section>

                <section>
                    <h2>Integration with React</h2>
                    <p>Let's write our application state to the DB!</p>
                    <p>It's just JSON after all</p>
                </section>

                <section>
                    <img src="img/firebase00.png"/>
                </section>

                <section>
                    <h2>But we can broadcast that out beyond just our instance!</h2>
                    <img src="img/firebase01.png"/>
                </section>

                <!-- FIREBASE DEMO -->
                <section>
                    <h2>Demo Time (almost)</h2>
                    <h4>Quick points</h4>
                    <dl>
                        <dt>JSPM</dt>
                        <dd>github/npm blended package control</dd>

                        <dt>Webpack</dt>
                        <dd>require all the things</dd>

                        <dt>6to5</dt>
                        <dd>Yeah, I wrote this a while ago</dd>

                        <dt>ES6 modules</dt>
                        <dd>import and export all the things</dd>

                        <dt>ES6 classes</dt>
                        <dd>Rolling my own data stores</dd>
                    </dl>
                </section>

                <section>
                    <h2>Demo Time</h2>
                    <h4><a href="https://github.com/jdivock/BadMoviePoll">BadMoviePoll</a></h4>
                </section>

                <!-- PARSE -->
                <section>
                    <img src="img/parse-logo.png" />
                </section>

                <section>
                    <h2>Parse</h2>
                    <p>Built by Facebook</p>
                    <p>We're looking at just a small piece of Parse</p>
                    <p>Parse Push</p>
                    <p>Parse Analytics</p>
                </section>

                <section>
                    <h2>Powerful Query Language</h2>
                    <pre>
                        <code>
var Team = Parse.Object.extend("Team");
var teamQuery = new Parse.Query(Team);
teamQuery.greaterThan("winPct", 0.5);
var userQuery = new Parse.Query(Parse.User);
userQuery.matchesKeyInQuery("hometown", "city", teamQuery);
userQuery.find({
  success: function(results) {
    // results has the list of users with a hometown team with
    // a winning record
  }
});
                        </code>
                    </pre>
                </section>

                <section>
                    <h2>Kind of similar to Netflix's Falcor</h2>
                    <p>Need a new field for your presentation? Add it to the query</p>
                    <p>Get exactly what you need, no massaging or translating in the view layer</p>
                </section>

                <section>
                    <h2>ReactParse</h2>
                    <p>Our components can now subscribe to specific queries</p>
                    <p>Component only re-renders when the data we care about changes</p>
                </section>

                <section>
                    <h2>Sample Component</h2>
                    <pre>
                        <code>
var CommentBlock = React.createClass({
  mixins: [ParseReact.Mixin], // Enable query subscriptions

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
    return {
      comments: (new Parse.Query('Comment')).ascending('createdAt')
    };
  },

  render: function() {
    // Render the text of each comment as a list item
    return (
      <ul>
        {this.data.comments.map(function(c) {
          return <li>{c.text}</li>;
        })}
      </ul>
    );
  }
});
                        </code>
                    </pre>
                </section>

                <section>
                    <h2>Wildly powerful</h2>
                    <h4>If we want comments from just 'Bob Boberson', it's trivial</h4>
                </section>

                <!-- PARSE DEMO -->
                <section>
                    <h2>Demo Time</h2>
                    <h4><a href="https://github.com/jdivock/Lifterly/tree/parseTest">Simple Workout Entry Page</a></h4>
                </section>

                <!-- Questions? -->
                <section>
                    <h2>Questions?</h2>
                </section>


                <section>
                    <h2>Links</h2>
                    <p><a href="https://github.com/jdivock/BadMoviePoll">Bad Movie Poll Source</a></p>
                    <p><a href="https://github.com/jdivock/Lifterly/tree/parseTest">Parse Example Source</a></p>
                    <p><a href="https://www.firebase.com">Firebase</a></p>
                    <p><a href="https://parse.com">Parse</a></p>
                    <p><a href="https://facebook.github.io/react/">React</a></p>
                    <p><a href="https://github.com/ParsePlatform/ParseReact">ParseReact</a></p>
                </section>
			</div>

		</div>

		<script src="/lib/js/head.min.js"></script>
		<script src="/js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: '/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '/plugin/zoom-js/zoom.js', async: true },
					{ src: '/plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
